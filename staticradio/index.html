<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Radio</title>
</head>
<body>
    <button id="m">play</button>
    <marquee behavior="scroll" direction="right" style="width: 150px;" id="led">nothing is playing now</marquee>

<script>
    // example :D
    // const tracks = ['/music/COOL%26CREATE%20-%20Lunatic%20Eyes%20~%20Invisible%20Full%20Moon.mp3', '/music/Red%20Hot%20Chili%20Peppers%20-%20Californication.mp3'];
    const tracks = [];
    
    let i = 0;
    let a = new Audio();
    let last_secs = 0; 

    let m = document.getElementById("led");
    document.getElementById("m").addEventListener("click", play);

    function play(e) {
        if (e.target.textContent === "play") {
            queue();
            e.target.textContent = "pause";
        } else {
            a.pause();
            last_secs = a.currentTime;
            m.textContent = "nothing is playing now";
            e.target.textContent = "play";
        }
    }
    
    function queue()
    {
        if (i >= tracks.length) {i = 0;}

        a.src = tracks[i];
        m.textContent = decodeURIComponent(tracks[i].split("/").pop());
        a.currentTime = last_secs;
        a.play();
        last_secs = 0;

        a.onended = () => {
            i++;
            queue();
        };
    }
</script>
</body>
</html>